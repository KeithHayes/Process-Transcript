
Current status:   

While formatted_transcript is generated the content is corrected to be in coherent sentences that use periods, 
commas, and capital letters as requirementts dictate.

The purpose of the LLM is to translate a raw audio transcript into an essay format that has paragraphs and gramatically correct 
sentences. Headings where appropriate.  Paragraphs and headings are separated by a blank line.  Do not use connecting dashes.  
Connecting dashes can be replaced with a comma followed by a space or a period followed by two spaces and the capital letter of 
a new sentence as appropriate if grammar cannot make the transition with an appropriate connecting word.

Current output is not formattted.  This does not meet requirements.  I seen no capital letters or punctation 
marks or paragraphs.  They should all be there.  A file showing sample output is 'desired_output.txt'

The document is split into multiple chunks with overlap making smooth transitions in the output. Each time a chunk is 
processed a command line entry should show a new call has been made to the llm witth the chunk.  The sample transcript is several chunks 
long but current output does not show that it is.

Dignose the problem.

Current output:

(venv) kdog@kdogsputer:~/Desktop/temp/process transcript$ python run.py
2025-06-21 20:30:54,329 - pipeline - INFO - Created 220 chunks
2025-06-21 20:30:54,329 - pipeline - INFO - Processing chunk 1/220
2025-06-21 20:30:54,329 - pipeline - INFO - LLM API call #1
2025-06-21 20:31:24,204 - pipeline - INFO - Processing chunk 2/220
2025-06-21 20:31:24,204 - pipeline - INFO - LLM API call #2
2025-06-21 20:31:45,133 - pipeline - INFO - Processing chunk 3/220
2025-06-21 20:31:45,133 - pipeline - INFO - LLM API call #3
2025-06-21 20:32:15,616 - pipeline - ERROR - Completion API failed: 
2025-06-21 20:32:15,616 - pipeline - WARNING - LLM failed, applying basic formatting
2025-06-21 20:32:15,617 - pipeline - INFO - Processing chunk 4/220
2025-06-21 20:32:15,617 - pipeline - INFO - LLM API call #4
2025-06-21 20:32:46,617 - pipeline - ERROR - Completion API failed: 
2025-06-21 20:32:46,617 - pipeline - WARNING - LLM failed, applying basic formatting
2025-06-21 20:32:46,618 - pipeline - INFO - Processing chunk 5/220
2025-06-21 20:32:46,618 - pipeline - INFO - LLM API call #5
^CTraceback (most recent call last):
  File "/home/kdog/Desktop/temp/process transcript/run.py", line 33, in <module>
    asyncio.run(main())
  File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
  File "/usr/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
  File "/usr/lib/python3.10/asyncio/base_events.py", line 1871, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/lib/python3.10/selectors.py", line 469, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
KeyboardInterrupt


Design :

Transistions are smooth because the chumking connects already formatted sections as it builds output.  
Overlap where fresh lines are added supplies a leading edge of formated overlap so the chunk being 
formatted can be made to ttransition correct so that the connection is later correct.

example.  If a chunk is 1000 characters long the second chunnk would begin at 800 characters so the 
first 200 characters are formattted with previous content.  This overlap allows the overlap to be 
rewritten when the second chunk overwrites the tail of the first chunk.

The end of the second chunk is at 1800 so the third chunk begins at 1600 to repeat the overlap 
re-write process until a smooth translation of the entire file has been accomplished.

This should be a common technique to process a translation in chunks and the web should be 
consulted as needed to ensure logic is correct.

Chunking will have to be along word boundaries because of the nature of the continuous transcript.   

The overlap is intended to fix problems with chunking in the middle of a sentence or paragraph.
